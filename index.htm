<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>OpenStreetMap.cz</title>
<link rel="stylesheet" href="etc/style.css" type="text/css">

<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.4/jquery-ui.min.js" type="text/javascript"></script>
<!-- <script src="http://plugins.jquery.com/files/jquery.dump.js.txt" type="text/javascript"></script>
<script src="http://github.com/cowboy/jquery-hashchange/raw/v1.3/jquery.ba-hashchange.min.js" type="text/javascript"></script>
 -->

<script src="http://openlayers.org/api/OpenLayers.js" type="text/javascript"></script>


<script type="text/javascript">
<!--

/*
  function resizeContent() {
    var content = $("content");
    var rightMargin = parseInt(getStyle(content, "right"));
    var bottomMargin = parseInt(getStyle(content, "bottom"));

    content.style.width = document.documentElement.clientWidth - content.offsetLeft - rightMargin;
    content.style.height = document.documentElement.clientHeight - content.offsetTop - bottomMargin;
  }
  
  function resizeMap() {
    var centre = map.getCenter();
    var zoom = map.getZoom();
    var sidebar_width = $("sidebar").offsetWidth;

    if (sidebar_width > 0) {
      sidebar_width = sidebar_width + 5
    }

    $("map").style.left = (sidebar_width) + "px";
    $("map").style.width = ($("content").offsetWidth - sidebar_width) + "px";
    $("map").style.height = ($("content").offsetHeight - 2) + "px";

    map.setCenter(centre, zoom);
  }

  function handleResize() {
    if (brokenContentSize) {
      resizeContent();
    }

    resizeMap();
  }
  
  mapInit();

//  window.onload = handleResize;
  //window.onresize = handleResize;


#content {
  padding: 0px;
  margin: 0px;
  position: absolute; 
  right: 10px;
  bottom: 10px;
  line-height: 1.2em;
  text-align: left;
}
*/


var map_init = function(){

           var map = new OpenLayers.Map('map');

            map.addLayers([new OpenLayers.Layer.OSM("Mapnik")]);
            map.addControl(new OpenLayers.Control.LayerSwitcher());
	          map.setCenter(new OpenLayers.LonLat(14.3, 50.1).transform(new OpenLayers.Projection("EPSG:4326"), new OpenLayers.Projection("EPSG:900913")), 
							14);


      
}


//-->
</script>
</head>
<body>

<div id="header">
	<div id="logo">
		<h1>OpenStreetMap.cz</h1>
		<p>non-public beta</p>
	</div>
	
	<div id="userinput">
		<form action="#" method="get">
		<div><input type="text" name="q" class="text"><input type="submit" value="Hledej" class="button"></div>
		</form>
		
		<form action="#" method="get">
		<div><input type="text" name="q" class="text"><input type="submit" value="Hledej" class="button"></div>
		</form>
		
		<p><a href="">plánování trasy</a> | <a href="">geo upload</a></p>
	
	</div>
	
	
	<div id="userpanel">
		<p><a href="">login with OpenStreetMap.org</a>
	</div>
</div>

<div id="maintop">
	<div class="leftpanel">
	Vítejte    _
	</div>
	<div class="rightpanel">
	mapa
	</div>
	<div class="middlepanel">
	<a href="#">tisk</a> &#149;
	<a href="#">export</a> &#149; 
	<a href="#">permalink</a> &#149;
	
	<a href="#">překryvné vrstvy</a>
	</div>	
</div><!-- /maintop -->

<div id="maincontent">
	<div class="leftpanel">
		<p>Blabla
		<ul>
		 <li><a href="">poradna</a></li>
		 <li><a href="">využití dat</a></li>
		 <li><a href="">jak přispět</a></li>
		</ul>
		
		<div id="footer">
		(c) česká komunita OpenStreetMap 2010, hosting walley, <a href="">feedback</a>
		</div>
	</div>
	
	<div class="rightpanel">
	1<br>
	2<br>
	3
	</div>
	
	<div class="middlepanel"><div id="map"><a href="#" onclick="map_init(); $(this).hide()">map_init()</a></div></div>	
</div><!-- /maincontent -->

</body>
</html>
